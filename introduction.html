<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="chapters.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
<header class="bg-dark text-white py-3">
    <div class="container">
        <h1 class="text-center">Introduction</h1>
        <nav class="nav justify-content-center">
            <a class="nav-link text-white" href="index.html">Home</a>
            <a class="nav-link text-white" href="volumes.html">Volumes</a>
            <a class="nav-link text-white" href="faq.html">FAQ</a>
            <a class="nav-link text-white" href="commissions.html">Commissions</a>
        </nav>
    </div>
</header>
<main class="container my-4">
    <div class="text-center mb-4">
        <h2 id="chapterTitle">Chapter Title</h2>
        <p id="chapterDescription">Page 1 of X</p>
    </div>
    <div class="text-center mb-4 button-group">
        <div class="button-row">
            <button id="prevVolumeTopBtn" class="btn btn-primary">Previous Volume</button>
            <button id="prevChapterTopBtn" class="btn btn-secondary">Previous Chapter</button>
            <button id="prevPageTopBtn" class="btn btn-secondary"><i class="fas fa-chevron-left"></i></button>
        </div>
        <div class="button-row">
            <select id="topChapterDropdown" class="custom-select" style="width: auto;"></select>
        </div>
        <div class="button-row">
            <select id="topPageDropdown" class="custom-select" style="width: auto;"></select>
        </div>
        <div class="button-row">
            <button id="nextPageTopBtn" class="btn btn-secondary"><i class="fas fa-chevron-right"></i></button>
            <button id="nextChapterTopBtn" class="btn btn-secondary">Next Chapter</button>
            <button id="nextVolumeTopBtn" class="btn btn-primary">Next Volume</button>
        </div>
    </div>
    <div class="comic-container text-center">
        <img id="comicImage" src="imagesintro/ch0pg0.png" alt="Comic Image" class="img-fluid">
    </div>
    <div class="text-center mb-4 button-group">
        <div class="button-row">
            <button id="prevVolumeBottomBtn" class="btn btn-primary">Previous Volume</button>
            <button id="prevChapterBottomBtn" class="btn btn-secondary">Previous Chapter</button>
            <button id="prevPageBottomBtn" class="btn btn-secondary"><i class="fas fa-chevron-left"></i></button>
        </div>
        <div class="button-row">
            <select id="bottomPageDropdown" class="custom-select" style="width: auto;"></select>
        </div>
        <div class="button-row">
            <select id="bottomChapterDropdown" class="custom-select" style="width: auto;"></select>
        </div>
        <div class="button-row">
            <button id="nextPageBottomBtn" class="btn btn-secondary"><i class="fas fa-chevron-right"></i></button>
            <button id="nextChapterBottomBtn" class="btn btn-secondary">Next Chapter</button>
            <button id="nextVolumeBottomBtn" class="btn btn-primary">Next Volume</button>
        </div>
    </div>
    <div class="comments-section">
        <h3>Comments</h3>
        <form>
            <div class="form-group">
                <label for="commentText">Leave a comment:</label>
                <textarea class="form-control" id="commentText" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary" id="submitCommentBtn">Submit</button>
        </form>
        <div id="submittedComments"></div>
    </div>
</main>
<footer class="bg-dark text-white py-3">
    <div class="container text-center">
        <p>&copy; 2024 RFighter. All rights reserved.</p>
    </div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Define volumes and chapters with correct prefixes and page counts
    const volumes = [
        { // Volume 1
            title: "Volume 1",
            chapters: [
                { title: 'Introduction', prefix: 'chi', pages: 14 },
                { title: 'Prologue', prefix: 'chp', pages: 14 },
                { title: 'Chapter 1', prefix: 'ch1', pages: 17 }
            ]
        },
        { // Volume 2 (Just an example, you can adjust as needed)
            title: "Volume 2",
            chapters: [
                { title: 'Chapter 2', prefix: 'ch2', pages: 20 },
                { title: 'Chapter 3', prefix: 'ch3', pages: 20 },
                { title: 'Chapter 4', prefix: 'ch4', pages: 20 }
            ]
        },
        { // Volume 3 (Just an example, you can adjust as needed)
            title: "Volume 3",
            chapters: [
                { title: 'Chapter 5', prefix: 'ch5', pages: 20 },
                { title: 'Chapter 6', prefix: 'ch6', pages: 20 },
                { title: 'Chapter 7', prefix: 'ch7', pages: 20 }
            ]
        },
        { // Volume 4 (Just an example, you can adjust as needed)
            title: "Volume 4",
            chapters: [
                { title: 'Chapter 8', prefix: 'ch8', pages: 20 },
                { title: 'Chapter 9', prefix: 'ch9', pages: 20 },
                { title: 'Chapter 10', prefix: 'ch10', pages: 20 }
            ]
        },
        { // Volume 5 (Just an example, you can adjust as needed)
            title: "Volume 5",
            chapters: [
                { title: 'Chapter 11', prefix: 'ch11', pages: 20 },
                { title: 'Chapter 12', prefix: 'ch12', pages: 20 },
                { title: 'Chapter 13', prefix: 'ch13', pages: 20 }
            ]
        },
        { // Volume 6 (Just an example, you can adjust as needed)
            title: "Volume 6",
            chapters: [
                { title: 'Chapter 14', prefix: 'ch14', pages: 20 },
                { title: 'Chapter 15', prefix: 'ch15', pages: 20 },
                { title: 'Chapter 16', prefix: 'ch16', pages: 20 }
            ]
        },
        { // Volume 7 (Just an example, you can adjust as needed)
            title: "Volume 7",
            chapters: [
                { title: 'Chapter 17', prefix: 'ch17', pages: 20 },
                { title: 'Chapter 18', prefix: 'ch18', pages: 20 },
                { title: 'Chapter 19', prefix: 'ch19', pages: 20 }
            ]
        },
        { // Volume 8 (Just an example, you can adjust as needed)
            title: "Volume 8",
            chapters: [
                { title: 'Chapter 20', prefix: 'ch20', pages: 20 },
                { title: 'Chapter 21', prefix: 'ch21', pages: 20 },
                { title: 'Chapter 22', prefix: 'ch22', pages: 20 }
            ]
        },
        { // Volume 9 (Just an example, you can adjust as needed)
            title: "Volume 9",
            chapters: [
                { title: 'Chapter 23', prefix: 'ch23', pages: 20 },
                { title: 'Chapter 24', prefix: 'ch24', pages: 20 },
                { title: 'Chapter 25', prefix: 'ch25', pages: 20 }
            ]
        },
        { // Volume 10 (Just an example, you can adjust as needed)
            title: "Volume 10",
            chapters: [
                { title: 'Chapter 26', prefix: 'ch26', pages: 20 },
                { title: 'Chapter 27', prefix: 'ch27', pages: 20 },
                { title: 'Chapter 28', prefix: 'ch28', pages: 20 }
            ]
        },
        { // Volume 11 (Just an example, you can adjust as needed)
            title: "Volume 11",
            chapters: [
                { title: 'Chapter 29', prefix: 'ch29', pages: 20 },
                { title: 'Chapter 30', prefix: 'ch30', pages: 20 },
                { title: 'Chapter 31', prefix: 'ch31', pages: 20 }
            ]
        },
        { // Volume 12 (Just an example, you can adjust as needed)
            title: "Volume 12",
            chapters: [
                { title: 'Chapter 32', prefix: 'ch32', pages: 20 },
                { title: 'Chapter 33', prefix: 'ch33', pages: 20 },
                { title: 'Chapter 34', prefix: 'ch34', pages: 20 }
            ]
        },
    ];

    let currentVolumeIndex = 0;
    let currentChapterIndex = 0;
    let currentPageIndex = 0;

    const comicImage = document.getElementById('comicImage');
    const chapterTitle = document.getElementById('chapterTitle');
    const chapterDescription = document.getElementById('chapterDescription');

    function updatePage() {
        const chapter = volumes[currentVolumeIndex].chapters[currentChapterIndex];
        comicImage.src = `imagesintro/${chapter.prefix}pg${currentPageIndex}.png`;
        chapterTitle.textContent = chapter.title;
        chapterDescription.textContent = `Page ${currentPageIndex + 1} of ${chapter.pages}`;
        syncDropdowns();
    }

    function syncDropdowns() {
        const topChapterDropdown = document.getElementById('topChapterDropdown');
        const bottomChapterDropdown = document.getElementById('bottomChapterDropdown');
        const topPageDropdown = document.getElementById('topPageDropdown');
        const bottomPageDropdown = document.getElementById('bottomPageDropdown');

        // Clear existing options
        topChapterDropdown.innerHTML = '';
        bottomChapterDropdown.innerHTML = '';
        topPageDropdown.innerHTML = '';
        bottomPageDropdown.innerHTML = '';

        // Populate chapter dropdowns
        volumes.forEach((volume, volumeIndex) => {
            volume.chapters.forEach((chapter, chapterIndex) => {
                const option = document.createElement('option');
                option.value = `${volumeIndex}-${chapterIndex}`;
                option.textContent = chapter.title;
                topChapterDropdown.appendChild(option.cloneNode(true));
                bottomChapterDropdown.appendChild(option.cloneNode(true));
            });
        });

        // Set selected chapter
        topChapterDropdown.value = `${currentVolumeIndex}-${currentChapterIndex}`;
        bottomChapterDropdown.value = `${currentVolumeIndex}-${currentChapterIndex}`;

        // Populate page dropdowns based on current chapter
        updatePageDropdowns();
    }

    function updatePageDropdowns() {
        const currentChapter = volumes[currentVolumeIndex].chapters[currentChapterIndex];
        const topPageDropdown = document.getElementById('topPageDropdown');
        const bottomPageDropdown = document.getElementById('bottomPageDropdown');

        // Clear existing options
        topPageDropdown.innerHTML = '';
        bottomPageDropdown.innerHTML = '';

        // Populate page dropdowns for the current chapter
        for (let i = 0; i < currentChapter.pages; i++) {
            const option = document.createElement('option');
            option.value = i;
            option.textContent = i + 1;
            topPageDropdown.appendChild(option.cloneNode(true));
            bottomPageDropdown.appendChild(option.cloneNode(true));
        }

        topPageDropdown.value = currentPageIndex;
        bottomPageDropdown.value = currentPageIndex;
    }

    function navigate(direction) {
        switch (direction) {
            case 'prevVolume':
                if (currentVolumeIndex > 0) {
                    currentVolumeIndex--;
                    currentChapterIndex = 0;
                    currentPageIndex = 0;
                }
                break;
            case 'nextVolume':
                if (currentVolumeIndex < volumes.length - 1) {
                    currentVolumeIndex++;
                    currentChapterIndex = 0;
                    currentPageIndex = 0;
                }
                break;
            case 'prevChapter':
                if (currentChapterIndex > 0) {
                    currentChapterIndex--;
                    currentPageIndex = 0;
                }
                break;
            case 'nextChapter':
                if (currentChapterIndex < volumes[currentVolumeIndex].chapters.length - 1) {
                    currentChapterIndex++;
                    currentPageIndex = 0;
                }
                break;
            case 'prevPage':
                if (currentPageIndex > 0) {
                    currentPageIndex--;
                }
                break;
                        case 'nextPage':
                if (currentPageIndex < volumes[currentVolumeIndex].chapters[currentChapterIndex].pages - 1) {
                    currentPageIndex++;
                }
                break;
        }
        updatePage();
    }

    document.getElementById('prevVolumeTopBtn').addEventListener('click', () => navigate('prevVolume'));
    document.getElementById('nextVolumeTopBtn').addEventListener('click', () => navigate('nextVolume'));
    document.getElementById('prevChapterTopBtn').addEventListener('click', () => navigate('prevChapter'));
    document.getElementById('nextChapterTopBtn').addEventListener('click', () => navigate('nextChapter'));
    document.getElementById('prevPageTopBtn').addEventListener('click', () => navigate('prevPage'));
    document.getElementById('nextPageTopBtn').addEventListener('click', () => navigate('nextPage'));

    document.getElementById('prevVolumeBottomBtn').addEventListener('click', () => navigate('prevVolume'));
    document.getElementById('nextVolumeBottomBtn').addEventListener('click', () => navigate('nextVolume'));
    document.getElementById('prevChapterBottomBtn').addEventListener('click', () => navigate('prevChapter'));
    document.getElementById('nextChapterBottomBtn').addEventListener('click', () => navigate('nextChapter'));
    document.getElementById('prevPageBottomBtn').addEventListener('click', () => navigate('prevPage'));
    document.getElementById('nextPageBottomBtn').addEventListener('click', () => navigate('nextPage'));

    document.getElementById('topChapterDropdown').addEventListener('change', function() {
        const [volumeIndex, chapterIndex] = this.value.split('-').map(Number);
        currentVolumeIndex = volumeIndex;
        currentChapterIndex = chapterIndex;
        currentPageIndex = 0;
        updatePage();
    });

    document.getElementById('bottomChapterDropdown').addEventListener('change', function() {
        const [volumeIndex, chapterIndex] = this.value.split('-').map(Number);
        currentVolumeIndex = volumeIndex;
        currentChapterIndex = chapterIndex;
        currentPageIndex = 0;
        updatePage();
    });

    document.getElementById('topPageDropdown').addEventListener('change', function() {
        currentPageIndex = parseInt(this.value);
        updatePage();
    });

    document.getElementById('bottomPageDropdown').addEventListener('change', function() {
        currentPageIndex = parseInt(this.value);
        updatePage();
    });

    document.getElementById('submitCommentBtn').addEventListener('click', function(event) {
        event.preventDefault();
        const commentText = document.getElementById('commentText').value;
        if (commentText.trim()) {
            const commentDiv = document.createElement('div');
            commentDiv.classList.add('comment');
            commentDiv.textContent = commentText;
            document.getElementById('submittedComments').appendChild(commentDiv);
            document.getElementById('commentText').value = '';
        }
    });

    updatePage();
});

</script>
</body>
</html>
